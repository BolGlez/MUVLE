<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Prototipo de VR para MUVLE</title>
    <!--Bibliotecas-->
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.0.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
    <script src="./script.js"></script>
  </head>

  <body>
    <!--Escena-->
    <a-scene
      renderer="antialias: true;
                colorManagement: true;
                sortObjects: true;
                physicallyCorrectLights: true;"
    >
      <!--Entorno-->
      <a-sky
        src="https://cdn.glitch.global/e765e821-3255-484e-b158-45c793c35599/Cielo_Muvle.jpg?v=1715266526923"
      ></a-sky>

      <!--Iluminación-->
      <a-light
        id="luz1"
        type="point"
        intensity="3"
        color="white"
        position="6.000 3.478 -3.000"
      ></a-light>
      <a-light
        id="luz2"
        type="point"
        intensity="3"
        color="white"
        position="7.616 3.478 3.000"
      ></a-light>
      <a-light
        id="luz3"
        type="point"
        intensity="3"
        color="white"
        position="-15.475 3.478 -3.052"
      ></a-light>
      <a-light
        id="luz4"
        type="point"
        intensity="3"
        color="white"
        position="-9.157 3.478 3"
      ></a-light>
      <a-light
        id="luzmolde"
        type="point"
        intensity="3"
        color="white"
        position="-5.073 2.490 1.381"
      ></a-light>
      <a-light
        id="luzpajarera"
        type="point"
        intensity="3"
        color="white"
        position="-2.018 2.490 1.381"
      ></a-light>

      <!--Cámara y Logotipo MUVLE-->
      <a-entity
        movement-controls="fly: false"
        position="-15.079 1.7 -3.442"
        rotation="0 -90 0"
      >
        <a-entity camera position="0 0 0" look-controls>
          <a-image
            scale="0.5 0.5 0.5"
            src="#bienvenida"
            width="4"
            position="0 0 -1"
            animation="property: opacity; from: 1.0; to: 0.0; delay: 2000; dur: 1000; easing: linear;"
            animation__end="property: scale; to: 0 0 0; delay: 9000; easing: linear;"
          ></a-image>
        </a-entity>
        <a-entity cursor="rayOrigin:mouse"></a-entity>
        <a-entity laser-controls="hand: right"></a-entity>
      </a-entity>

      <!--Botón de información-->
      <a-assets>
        <img
          id="ptoinfo"
          src="https://cdn.glitch.global/e765e821-3255-484e-b158-45c793c35599/info.png?v=1714662611995"
          crossorigin="anonymous"
        />
        <!-- a-mixin lo utilizamos para almacenar propiedades en la entidad "info" y poder asignarlas al resto del puntos con la expresión mixin=info -->
        <a-mixin id="info" geometry="height: 2; width: 2"></a-mixin>
      </a-assets>

      <!--Expositores-->
      <a-box
        position="-2.018 0.590 1.209"
        scale="1 1.1 1"
        color="white"
      ></a-box>
      <a-box
        position="-5.192 0.590 1.209"
        scale="1.98 1.1 1"
        color="white"
      ></a-box>
      <a-box
        position="-9.681 0.590 5.563 "
        scale="1.98 1.1 1"
        color="white"
      ></a-box>

      <!--Modelo 3D - Sala de exposición-->
      <a-assets>
        <a-asset-item
          id="museomuvle"
          src="https://cdn.glitch.global/e765e821-3255-484e-b158-45c793c35599/Modelo_Museo.glb?v=1714766723097"
        ></a-asset-item>
      </a-assets>
      <a-entity
        gltf-model="#museomuvle"
        scale="1.5 1.5 1.5"
        position="0 0 0"
        rotation="0 180 0"
      ></a-entity>

      <!--Assets-->
      <a-assets>
        <!--Logotipo MUVLE-->
        <img
          id="bienvenida"
          src="https://cdn.glitch.global/99d8a216-0551-49ea-bf47-f57d57d3b339/2560px-Museum_of_Modern_Art_logo.svg.png?v=1714847773647"
          crossorigin="anonymous"
        />
        <!--Modelo 3D Estatua Lucha Leonesa-->
        <a-asset-item
          id="estatualuche"
          src="https://cdn.glitch.me/e765e821-3255-484e-b158-45c793c35599/aluchelow-opt.glb?v=1715106225554"
        ></a-asset-item>
        <!--Modelo 3D Molde Gaudí-->
        <a-asset-item
          id="moldegaudi"
          src="https://cdn.glitch.global/e765e821-3255-484e-b158-45c793c35599/gaudi_molde-opt.glb?v=1715439555324"
        ></a-asset-item>
        <a-asset-item
          id="torregaudi"
          src="https://cdn.glitch.global/e765e821-3255-484e-b158-45c793c35599/piezagaudi2-opt.glb?v=1715016325004"
        ></a-asset-item>
        <!--Imagen panel Lucha Leonesa-->
        <img
          id="burguescalaisfoto"
          src="https://cdn.glitch.global/e765e821-3255-484e-b158-45c793c35599/Imagen_prueba.png?v=1714671479372"
          crossorigin="anonymous"
        />
        <!--Vídeo Alfarero-->
        <video
          id="alfarerovid"
          autoplay
          loop="true"
          src="https://cdn.glitch.me/e765e821-3255-484e-b158-45c793c35599/Video_Alfarero.mp4?v=1715011514076"
        />
        <a-asset-item
          id="gaudipieza"
          src="https://cdn.glitch.global/e765e821-3255-484e-b158-45c793c35599/PiezaGaudi.glb?v=1715440757851"
        ></a-asset-item>
        <a-asset-item
          id="pajarera"
          src="https://cdn.glitch.global/e765e821-3255-484e-b158-45c793c35599/pajarera.smooth-opt.glb?v=1715263794330"
        ></a-asset-item>
        <a-asset-item
          id="orza"
          src="https://cdn.glitch.global/e765e821-3255-484e-b158-45c793c35599/orza_full-opt.glb?v=1715432855474"
        ></a-asset-item>
        <a-asset-item
          id="yugo1"
          src="https://cdn.glitch.global/e765e821-3255-484e-b158-45c793c35599/Yugo2.glb?v=1715624868706"
        ></a-asset-item>
      </a-assets>

      <!--Estatua - Modelo 3D y panel informativo-->
      <a-entity
        gltf-model="#estatualuche"
        scale="1.5 1.5 1.5"
        position="-2.791 1.671 -3.253"
        rotation="0 -90 0"
      >
        <!-- "info-panel activa el código de JavaScript para detectar un click. Más detalles en script.js"-->
        <a-entity id="uilucha" scale="0.5 0.5 0.5" info-panel>
          <!-- Punto de información (Icono)-->
          <a-image
            mixin="info"
            src="#ptoinfo"
            position="0.998 -1.310 0.704"
            scale="0.25 0.25 0.25"
          ></a-image>

          <!-- Panel desplegable -->
          <a-entity
            visible="false"
            geometry="primitive: plane; width: 12; height: 17"
            material="color: #353130; shader: flat; transparent: false"
            rotation="0 -53.186 0"
            position="2.619 -0.363 1.268"
            scale="0.25 0.25 0.25"
          >
            <!-- Imagen del panel -->
            <a-image
              src="#burguescalaisfoto"
              position="0 5 0.01"
              width="10"
              height="5"
            ></a-image>
            <!-- Título del panel -->
            <a-entity
              position="-6.15 0.5 0.001"
              text="width: 22; x-offset: 1; baseline: top; align: left; shader: msdf; color: #ED7D5A; anchor: left; font: https://cdn.aframe.io/fonts/Roboto-msdf.json; value: Aluche"
            ></a-entity>
            <!-- Texto del panel -->
            <a-entity
              position="-6 -0.5 0.001"
              text="width: 10; x-offset: 1; baseline: top; align: left; shader: msdf; color: #ED7D5A; anchor: left; font: https://cdn.aframe.io/fonts/Roboto-msdf.json; value:La lucha leonesa o aluche es un deporte tradicional de la provincia leonesa. Se trata de una costumbre transmitida de forma oral hasta la actualidad, que se ha ido adaptando a las formas y convenciones del deporte moderno sin perder su propia esencia, convirtiendose en practica federada con competiciones regulares. Fue declarada Bien de Interes Cultural de caracter inmaterial el 29 de junio de 2017.\n\nEstatua de Aluche. Ciudad de Leon, escaneada in-situ"
            ></a-entity>
          </a-entity>
          <a-image
            mixin="info"
            src="#ptoinfo"
            sound-button
            position="-1.545 -1.272 1.046"
            scale="0.25 0.25 0.25"
          >
            <a-sound
              src="https://cdn.glitch.global/e765e821-3255-484e-b158-45c793c35599/Audio_Aluche.mp3?v=1715797304459"
              autoplay="false"
              position="0 0 0"
              loop="false"
              volume="5"
            ></a-sound>
          </a-image>
        </a-entity>
      </a-entity>

      <!--Molde Gaudi - Modelo 3D y panel informativo-->
      <a-entity
        gltf-model="#moldegaudi"
        scale="2.5 2.5 2.5"
        position="-4.917 1.2 1.290"
        rotation="0 180 0"
      >
        <!--"info-panel activa el código de JavaScript para detectar un click. Más detalles en script.js"-->
        <a-entity
          id="uimoldegaudi"
          rotation="0 180 0"
          scale="0.05 0.05 0.05"
          info-panel
        >
          <!--Punto de información (su posición es dependiente de la del padre)-->
          <a-image
            mixin="info"
            src="#ptoinfo"
            position="3.711 0.744 3.668"
          ></a-image>
          <!-- Panel desplegable -->
          <a-entity
            visible="false"
            geometry="primitive: plane; width: 12; height: 17"
            material="color: #353130; shader: flat; transparent: false"
            position="-2.279 9.859 -2.188"
          >
            <!-- Imagen del panel -->
            <a-image
              src="#burguescalaisfoto"
              position="0 5 0.01"
              width="10"
              height="5"
            ></a-image>
            <!-- Título del panel -->
            <a-entity
              position="-6.15 0.5 0.001"
              text="width: 22; x-offset: 1; baseline: top; align: left; shader: msdf; color: #ED7D5A; anchor: left; font: https://cdn.aframe.io/fonts/Roboto-msdf.json; value: Artesania moderna"
            ></a-entity>
            <!-- Texto del panel -->
            <a-entity
              position="-6 -0.5 0.001"
              text="width: 10; x-offset: 1; baseline: top; align: left; shader: msdf; color: #ED7D5A; anchor: left; font: https://cdn.aframe.io/fonts/Roboto-msdf.json; value: El arquitecto Antonio Gaudi se sirvio en la edificacion del Palacio Episcopal de Astorga, de la alfareria tradicional de Jimenez de Jamuz en la decoracion de arcos de puertas y nervaduras de bovedas. A partir de unos moldes hechos por el propio Gaudi, los alfareros fueron haciendo las piezas, decoradas con diversos motivos tradicionales. En 2002, para celebrar el 150 aniversario del nacimiento de Antonio Gaudi, el Alfar-Museo de Jimenez de Jamuz elaboro un reducido numero de piezas con estos moldes.\n\nPiezas cedidas por el Alfar-Museo\ny escaneadas in-situ"
            ></a-entity>
          </a-entity>
        </a-entity>
      </a-entity>

      <a-entity
        gltf-model="#gaudipieza"
        scale="1.7 1.7 1.7"
        position="-5.5 1.2 1.42"
        rotation="0 32 0"
      >
        <a-entity
          gltf-model="#torregaudi"
          position="-0.05 0.1 -0.222"
          rotation="0 105 0"
          scale="0.08 0.08 0.08"
        >
        </a-entity>
      </a-entity>

      <!--Nido pajaros- Modelo 3D y panel informativo-->
      <a-entity
        gltf-model="#pajarera"
        scale="2.5 2.5 2.5"
        position="-2.018 1.45 1.246"
        rotation="0 90 0"
      >
        <!--"info-panel activa el código de JavaScript para detectar un click. Más detalles en script.js"-->
        <a-entity
          id="uipajarera"
          rotation="0 -90 0"
          scale="0.05 0.05 0.05"
          info-panel
        >
          <!--Punto de información (su posición es dependiente de la del padre)-->
          <a-image
            mixin="info"
            src="#ptoinfo"
            position="3.711 -1.177 2.318"
          ></a-image>
          <!-- Panel desplegable -->
          <a-entity
            visible="false"
            geometry="primitive: plane; width: 12; height: 17"
            material="color: #353130; shader: flat; transparent: false"
            position="-2.279 7.6 -2.188"
          >
            <!-- Imagen del panel -->
            <a-image
              src="#burguescalaisfoto"
              position="0 5 0.01"
              width="10"
              height="5"
            ></a-image>
            <!-- Título del panel -->
            <a-entity
              position="-6.15 0.5 0.001"
              text="width: 22; x-offset: 1; baseline: top; align: left; shader: msdf; color: #ED7D5A; anchor: left; font: https://cdn.aframe.io/fonts/Roboto-msdf.json; value: Nidos de barro"
            ></a-entity>
            <!-- Texto del panel -->
            <a-entity
              position="-6 -0.5 0.001"
              text="width: 10; x-offset: 1; baseline: top; align: left; shader: msdf; color: #ED7D5A; anchor: left; font: https://cdn.aframe.io/fonts/Roboto-msdf.json; value: Durante el confinamiento en la pandemia del COVID-19, se utilizó como base la tradicion alfarera para desarrollar unas vasijas en el Alfar-Museo que funcionaran como nido para la proteccion de las aves, favoreciendo asi su cria y conservacion. Se trata de un ejemplo de I+D en el que se perpetua el hacer artesano y los materiales tradicionales propios de la zona: la arcilla o barro rojo.\n\nPieza cedida por el Alfar-Museo y escaneada in-situ"
            ></a-entity>
          </a-entity>
        </a-entity>
      </a-entity>

      <!--Orza-Modelo 3D y panel informativo-->
      <a-entity
        gltf-model="#orza"
        scale="2.5 2.5 2.5"
        position="-9.660 1.5 5.685"
        rotation="0 -90 0"
      >
        <!--"info-panel activa el código de JavaScript para detectar un click. Más detalles en script.js"-->
        <a-entity
          id="uiorza"
          rotation="0 -90 0"
          scale="0.05 0.05 0.05"
          info-panel
        >
          <!--Punto de información (su posición es dependiente de la del padre)-->
          <a-image
            mixin="info"
            src="#ptoinfo"
            position="3.711 -1.177 2.318"
          ></a-image>
          <!-- Panel desplegable -->
          <a-entity
            visible="false"
            geometry="primitive: plane; width: 12; height: 17"
            material="color: #353130; shader: flat; transparent: false"
            position="-2.279 7.6 -2.188"
          >
            <!-- Imagen del panel -->
            <a-image
              src="#burguescalaisfoto"
              position="0 5 0.01"
              width="10"
              height="5"
            ></a-image>
            <!-- Título del panel -->
            <a-entity
              position="-6.15 0.5 0.001"
              text="width: 22; x-offset: 1; baseline: top; align: left; shader: msdf; color: #ED7D5A; anchor: left; font: https://cdn.aframe.io/fonts/Roboto-msdf.json; value: Nidos de barro"
            ></a-entity>
            <!-- Texto del panel -->
            <a-entity
              position="-6 -0.5 0.001"
              text="width: 10; x-offset: 1; baseline: top; align: left; shader: msdf; color: #ED7D5A; anchor: left; font: https://cdn.aframe.io/fonts/Roboto-msdf.json; value: Durante el confinamiento en la pandemia del COVID-19, se utilizó como base la tradicion alfarera para desarrollar unas vasijas en el Alfar-Museo que funcionaran como nido para la proteccion de las aves, favoreciendo asi su cria y conservacion. Se trata de un ejemplo de I+D en el que se perpetua el hacer artesano y los materiales tradicionales propios de la zona: la arcilla o barro rojo.\n\nPieza cedida por el Alfar-Museo y escaneada in-situ"
            ></a-entity>
          </a-entity>
        </a-entity>
      </a-entity>

      <!--Vídeo Alfarero-->
      <a-video
        src="#alfarerovid"
        width="16"
        height="9"
        position="-8.416 2.353 6.393"
        rotation="0 0 0"
        scale="0.1 0.1 0.1"
      ></a-video>

      <a-entity
        gltf-model="#yugo1"
        scale="2.7 2.7 2.7"
        position="-10.628 1.846 -6.316"
        rotation="0 90 90"
      >
      </a-entity>

      <!--Música-->
      <a-sound
        src="https://cdn.glitch.global/8e8beb79-81de-401a-8591-38fa0f92dbb9/campanadas001.msap3?v=1679660295429"
        autoplay="false"
        position="0 0 0"
        loop="false"
        volume="1"
      ></a-sound>
    </a-scene>
  </body>
</html>
